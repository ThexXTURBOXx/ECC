#ifndef ECC_BCH_H
#define ECC_BCH_H

#include "CoCoA/library.H"

using namespace std;

namespace CoCoA {

    struct BCH {
        const long q;
        const long qn;
        const long n;
        const long k;
        const long d;
        const long c;
        const RingElem a;
        const RingElem g;

        BCH(const long q, const long qn, const long n, const long k,
            const long d, const long c, RingElem a, RingElem g)
                : q(q), qn(qn), n(n), k(k), d(d), c(c),
                  a(std::move(a)), g(std::move(g)) {
        }
    };

    // d = Designed distance
    // f = Primitive polynomial, dependent on "alpha"
    // f could be generated by, e.g., https://www.researchgate.net/publication/251501522
    RingElem constructGenPoly(int c, int d, int p, const string &f);

    RingElem encode(const BCH &bch, ConstRefRingElem p, ConstRefRingElem x);

    RingElem decode(const BCH &bch, ConstRefRingElem p, ConstRefRingElem x);

}

#endif //ECC_BCH_H
